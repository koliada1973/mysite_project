{% extends "credit_system/base.html" %}

{% block page_title %}{{ page_title }}{% endblock %}

{% block content %}
    <div class="row justify-content-center">
        <div class="col-lg-12"> <div class="card shadow-lg">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">{{ page_title }}</h4>
                </div>

                <div class="card-body">

                    <form method="post" novalidate>
                        {% csrf_token %}

                        {% if form.non_field_errors %}
                            <div class="alert alert-danger p-2 mb-3">
                                <strong>Помилка форми:</strong>
                                <ul>
                                {% for error in form.non_field_errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                                </ul>
                            </div>
                        {% endif %}

                        <h5 class="text-primary border-bottom pb-2 mb-3">Основна інформація та акаунт</h5>

                        <div class="row g-3 mb-4">
                            <div class="col-md-4">
                                <label for="{{ form.username.id_for_label }}" class="form-label small fw-bold">{{ form.username.label }}</label>
                                {{ form.username }}
                                {% for error in form.username.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>

                            <div class="col-md-4">
                                <label for="{{ form.password1.id_for_label }}" class="form-label small fw-bold">Пароль</label>
                                {{ form.password1 }}
                                {% for error in form.password1.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>

                            <div class="col-md-4">
                                <label for="{{ form.password2.id_for_label }}" class="form-label small fw-bold">Підтвердження Пароля</label>
                                {{ form.password2 }}
                                {% for error in form.password2.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                        </div>
                        {% if form.non_field_errors %}
                            <div class="alert alert-danger p-2 mb-3">
                                <strong>Помилка форми:</strong>
                                <ul>
                                {% for error in form.non_field_errors %}
                                    <li>{{ error }}</li>
                                {% endfor %}
                                </ul>
                            </div>
                        {% endif %}

                        <h5 class="text-primary border-bottom pb-2 mb-3">Персональні та біографічні дані</h5>

                        <div class="row g-3 mb-4">
                            <div class="col-md-3">
                                <label class="form-label small fw-bold">Прізвище</label>
                                {{ form.last_name }}
                                {% for error in form.last_name.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                            <div class="col-md-3">
                                <label class="form-label small fw-bold">ім'я</label>
                                {{ form.first_name }}
                                {% for error in form.first_name.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                            <div class="col-md-3">
                                <label class="form-label small fw-bold">По-батькові</label>
                                {{ form.middle_name }}
                                {% for error in form.middle_name.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                            <div class="col-md-3">
                                {{ form.sex.label_tag }}
                                {{ form.sex }}
                                {% for error in form.sex.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>

                            <div class="col-md-3">
                                {{ form.date_of_birth.label_tag }}
                                {{ form.date_of_birth }}
                                {% for error in form.date_of_birth.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                            <div class="col-md-3">
                                {{ form.IPN.label_tag }}
                                {{ form.IPN }}
                                {% for error in form.IPN.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                            <div class="col-md-6"> {{ form.place_of_birth.label_tag }}
                                {{ form.place_of_birth }}
                                {% for error in form.place_of_birth.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                        </div>

                        <h5 class="text-primary border-bottom pb-2 mb-3">Паспортні дані та Адреси</h5>

                        <div class="row g-3 mb-4">
                            <div class="col-md-3">
                                {{ form.passport_series.label_tag }}
                                {{ form.passport_series }}
                                {% for error in form.passport_series.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                            <div class="col-md-3">
                                {{ form.passport_number.label_tag }}
                                {{ form.passport_number }}
                                {% for error in form.passport_number.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                            <div class="col-md-3">
                                {{ form.passport_date.label_tag }}
                                {{ form.passport_date }}
                                {% for error in form.passport_date.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                            <div class="col-md-3">
                                {{ form.passport_vidan.label_tag }}
                                {{ form.passport_vidan }}
                                {% for error in form.passport_vidan.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>

                            <div class="col-md-6"> {{ form.address_registration.label_tag }}
                                {{ form.address_registration }}
                                {% for error in form.address_registration.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                            <div class="col-md-6"> {{ form.address_residential.label_tag }}
                                {{ form.address_residential }}
                                {% for error in form.address_residential.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                        </div>

                        <h5 class="text-primary border-bottom pb-2 mb-3">Контактна інформація та Робота</h5>

                        <div class="row g-3 mb-4">
                            <div class="col-md-3">
                                {{ form.phone_number.label_tag }}
                                {{ form.phone_number }}
                                {% for error in form.phone_number.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                            <div class="col-md-3">
                                {{ form.email.label_tag }}
                                {{ form.email }}
                                {% for error in form.email.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>

                            <div class="col-md-3">
                                {{ form.work_place.label_tag }}
                                {{ form.work_place }}
                                {% for error in form.work_place.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                            <div class="col-md-3">
                                {{ form.position.label_tag }}
                                {{ form.position }}
                                {% for error in form.position.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>

                            <div class="col-md-12">
                                {{ form.notes.label_tag }}
                                {{ form.notes }}
                                {% for error in form.notes.errors %}<div class="alert alert-danger p-1 mt-1 small">{{ error }}</div>{% endfor %}
                            </div>
                        </div>


                        <div class="mt-4 text-end">
                            <button type="submit" class="btn btn-success btn-lg">
                                Створити клієнта
                            </button>
                            <a href="{% url 'all_clients_list' %}" class="btn btn-secondary btn-lg ms-2">
                                Скасувати
                            </a>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>
{% endblock %}